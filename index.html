<!DOCTYPE html>
<html lang="pt-br">
<head>

    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#00796B">
    
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>LeishCheck</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
<div class="container" id="app">

<div id="tcle">
    <h2>Termo de Consentimento Livre e Esclarecido</h2>
    
    <div class="termo-conteudo">
        <!-- Cabe√ßalho do termo -->
        <div class="cabecalho-termo">
            <h3>Bem-vindo(a) ao LeishCheck!</h3>
            <div class="projeto-lista">
                <div class="item-lista">Este projeto visa:</div>
                <div class="item-lista">Auxiliar na</div>
                <div class="item-lista">Triagem de</div>
                <div class="item-lista">Leishmaniose cut√¢nea</div>
            </div>
        </div>

   <!-- REMOVA o firebase-config.js -->
<!-- ADICIONE ESTAS LINHAS -->
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>
<!-- <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-storage.js"></script> -->

<script>
  // CONFIGURA√á√ÉO DO FIREBASE - Vers√£o COMPAT√çVEL (v8)
  const firebaseConfig = {
    apiKey: "AIzaSyCTREufIU4eniPzZoUpaIl0ka--dHZPdmE",
    authDomain: "leishcheck-c927c.firebaseapp.com",
    projectId: "leishcheck-c927c",
    storageBucket: "leishcheck-c927c.firebasestorage.app",
    messagingSenderId: "86022380552",
    appId: "1:86022380552:web:5ab8ec1696ff7fb78d45bd"
  };

  // Inicializar Firebase APENAS se n√£o estiver inicializado
  if (!firebase.apps.length) {
    firebase.initializeApp(firebaseConfig);
  }
  
  // Tornar globalmente acess√≠vel
  window.db = firebase.firestore();
 // window.storage = firebase.storage();  //Desativando o storeger pois o firebase n√£o esta deixando criar o banco de dados
  
  console.log("‚úÖ Firebase v8 inicializado com sucesso!");
  
  // Teste de conex√£o
  setTimeout(async () => {
    try {
      console.log("üß™ Testando conex√£o com Firestore...");
      await db.collection("teste_conexao").add({
        mensagem: "Firebase conectado",
        timestamp: firebase.firestore.FieldValue.serverTimestamp(),
        origem: "LeishCheck Netlify"
      });
      console.log("üéâ Teste de conex√£o bem-sucedido!");
    } catch (error) {
      console.error("‚ùå Erro na conex√£o:", error);
    }
  }, 1000);
</script>

<!-- Outras bibliotecas -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@4.22.0/dist/tf.min.js"></script>     
        
        <!-- Texto principal do termo -->
        <div class="texto-termo">
            <p>Ao continuar, voc√™ concorda voluntariamente com a coleta e o uso de algumas informa√ß√µes pessoais para fins de an√°lise de risco de leishmaniose cut√¢nea.</p>
            
            <p><strong>Os dados utilizados incluem:</strong></p>
            <ul>
                <li>Idade</li>
                <li>G√™nero</li>
                <li>Cidade e Estado</li>
                <li>Imagens da les√£o (se fornecidas)</li>
                <li>Respostas ao question√°rio</li>
            </ul>
            
            <p><strong>Finalidade:</strong></p>
            <p>Essas informa√ß√µes ser√£o utilizadas <strong>exclusivamente</strong> para fins educacionais, de triagem e promo√ß√£o √† sa√∫de, sem car√°ter diagn√≥stico definitivo, e n√£o ser√£o compartilhadas com terceiros.</p>
            
            <p><strong>Privacidade e Seguran√ßa:</strong></p>
            <p>O uso do aplicativo √© an√¥nimo e os dados s√£o armazenados de forma segura, respeitando a <strong>Lei Geral de Prote√ß√£o de Dados (LGPD - Lei 13.709/2018)</strong>.</p>
            
            <p><strong>Seus Direitos:</strong></p>
            <ul>
                <li>Voc√™ pode interromper o uso do app a qualquer momento</li>
                <li>Nenhuma informa√ß√£o ser√° usada para outros fins sem seu consentimento pr√©vio</li>
                <li>Voc√™ pode sair a qualquer momento, sem preju√≠zos</li>
            </ul>
            
            <p><strong>Declara√ß√£o de Consentimento:</strong></p>
            <p>Ao clicar em "Aceitar e Continuar", voc√™ declara estar ciente e de acordo com o uso dos dados mencionados nos termos acima.</p>
            
            <div class="aviso-importante">
                <p>‚ö†Ô∏è <strong>Importante:</strong> Esta ferramenta n√£o substitui uma consulta m√©dica presencial.</p>
                <p>Em caso de suspeita, procure atendimento em uma Unidade B√°sica de Sa√∫de.</p>
            </div>
        </div>
        
        <!-- Checkbox de aceita√ß√£o -->
        <div class="aceite-termo">
            <label class="checkbox-container">
                <input type="checkbox" id="aceitoTermo">
                <span class="checkmark"></span>
                <span class="texto-aceite">
                    <strong>Li, compreendi e concordo com os termos acima.</strong>
                </span>
            </label>
        </div>
        
        <!-- Bot√µes de a√ß√£o -->
        <div class="botoes-termo">
            <button onclick="recusarTermo()" class="btn-recusar">
                N√£o Aceito / Sair
            </button>
            <button onclick="verificarAceite()" id="btnAceitar" disabled>
                Aceitar e Continuar
            </button>
        </div>
    </div>
</div>

<div id="resumo" class="hidden">
<h2>Sobre a Leishmaniose</h2>
<p>A leishmaniose cut√¢nea √© causada por protozo√°rios transmitidos pela picada do <strong>mosquito-palha</strong>.</p>
<a href="https://portal.fiocruz.br/noticia/leishmanioses-conheca-os-insetos-transmissores-e-saiba-como-se-prevenir" target="_blank">
Clique aqui para conhecer o vetor transmissor</a>
<button onclick="nextPage()">Continuar</button>
</div>

<div id="dados" class="hidden">
<h2>Informa√ß√µes Iniciais</h2>
<label>Idade:</label>
<input type="number" id="idade">
<label>Sexo:</label>
<select id="sexo">
<option value="">Selecione</option>
<option value="Masculino">Masculino</option>
<option value="Feminino">Feminino</option>
</select>
<label>Cidade:</label>
<input type="text" id="cidade">
<label>Estado:</label>
<input type="text" id="estado">
<button onclick="nextPage()">Pr√≥ximo</button>
</div>

<div id="questionario" class="hidden"></div>

<div id="foto" class="hidden">
<h2>Envie uma Foto</h2>
<p>Envie uma imagem clara da les√£o para auxiliar na triagem:</p>
<input type="file" accept="image/*" id="imagem">
<button onclick="calcularRisco()">Enviar e Avaliar</button>
</div>

<div id="resultado" class="hidden">
<h2>Resultado</h2>
<div class="chart-container">
<canvas id="graficoPizza"></canvas>
</div>
<div id="orientacoes"></div>
<p><strong>Aten√ß√£o:</strong> este app n√£o substitui avalia√ß√£o m√©dica presencial.</p>

<button onclick="mostrarEducacao()">Mais sobre a doen√ßa</button>

<a href="https://www.google.com/maps/search/ubs+mais+pr√≥xima/" target="_blank">
<button class="btn-yellow">UBS mais pr√≥xima</button>
</a>
</div>

<div id="educacao" class="hidden">
<h2>Educa√ß√£o em Sa√∫de</h2>
<p><strong>Transmiss√£o:</strong> Ocorre pela picada do mosquito-palha infectado.</p>
<p><strong>Preven√ß√£o:</strong> Use roupas compridas, repelente e evite √°reas de mata.</p>
<p><strong>Sintomas:</strong> Ferida que n√£o cicatriza.</p>
<p>Em caso de suspeita, procure uma UBS.</p>
<button onclick="nextPage()">Finalizar</button>
</div>

<div id="final" class="hidden">
<h2>Obrigado!</h2>
<p>Voc√™ finalizou o LeishCheck. Continue se cuidando.</p>
</div>

</div>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="script.js"></script>

<script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@4.22.0/dist/tf.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
<script src="script.js"></script>

</body>
</html>
